{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale =1.0">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
        <link rel="stylesheet"  type= "text/css" href="{%  static  'css/style.css'  %}">
        <title>Box Inventory</title> 
    </head>
    <body>
        <nav class="navbar navbar-light bg-success">
            <h1 class="text-white font-italic">Box Inventory</h1>
            <div class="form-inline m-0">
                <h4 class="mr-4">Welcome!! {{ request.session.user }}</h4>
                <h5 class=""><a class="text-white" href="/home">Home</a></h5>
                <h5 class="p-2"><a class="text-white" href="/profile/{{ user.id }}">Account</a></h5>
                <h5><a class="text-white" href="/logout">Logout</a></h5>
            </div>
        </nav>
        <div class="container mt-4" >
            <div class="row justify-content-around">
                <div class="m-2 bg-warning border border-secondary p-4">
                    <h3>Box Information:</h3>
                    <div class="card" style="width: 18rem;">
                        <div class="card-header">
                            <h5>Name: {{box.name}} </h5>
                        </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Description: {{ box.description }}</li>
                            <li class="list-group-item">Quantity: {{ box.qty }}</li>
                            <li class="list-group-item">Location: {{ box.location }}</li>
                            <li class="list-group-item">Added Date: {{ box.created_at }}</li>
                            <li class="list-group-item">By: {{box.user.first_name}} {{box.user.last_name}}</li>
                            <li class="list-group-item">Last Update: {{ box.updated_at }}</li>
                            <li class="list-group-item">By: {{box.user.first_name}} {{box.user.last_name}}</li>
                        </ul>
                    </div>
                </div>
                <div class="m-2 p-4 bg-warning border border-secondary">
                    <h3>Edit Box Info:</h3>
                    <div class="card bg-warning p-4" style="width: 20rem;">
                        <form action="/edit_box/{{ box.id }}" method=POST>
                            {% csrf_token %}
                            <div class="">
                                <label class="label" for="name">Name:</label>
                                <input type="text" name="name" id="name" value="{{ box.name }}">   
                                <label class="label" for="description">Description:</label>
                                <input type="text" name="description" id="description" value="{{ box.description }}">  
                                <label class="label" for="qty">Quantity:</label>
                                <input type="text" name="qty" id="qty" value="{{ box.qty }}"> 
                                <label class="label" for="note">Note:</label>
                                <input type="text" name="note" id="note" value="{{ box.note }}"> 
                                <label class="label" for="location">Location:</label>
                                <select name='location' class="form-control">
                                    <option aria-placeholder='{{box.location}}'>{{box.location}}</option>
                                    <option value='Area 1'>Area 1</option>
                                    <option value='Area 2'>Area 2</option>
                                    <option value='Area 3'>Area 3</option>
                                    <option value='Area 4'>Area 4</option>
                                    <option value='Area 5'>Area 5</option>
                                </select>
                                <label class="label" for="status">Status:</label>
                                <select name='status' class="form-control">
                                    <option aria-placeholder='{{box.status}}'>{{box.status}}</option>
                                    <option value='Received'>Received</option>
                                    <option value='Pending'>Pending</option>
                                    <option value='Moved'>Moved</option>
                                    <option value='Stored'>Stored</option>
                                    <option value='Delivered'>Delivered</option>
                                </select>
                            <div class="">
                                <button class="mt-1 mb-3 mr-1 text center btn btn-primary">Update</button>
                                <button class="mt-1 mb-3 text center btn btn-primary"><a class="text-white" href='/delete_box/{{ box.id }}'>Delete Box</a></button>
                            </div>
                        </form>
                    </div>  
                </div>
            </div>
            <div class="container mt-4 mr-4">
                <table class='table table table-bordered'>
                    <h5>Transaction History</h5>
                    <tr class="bg-warning">
                        <th>Box Name</th>
                        <th>Box Size</th>
                        <th>Box Qty</th>
                        <th>Box Location</th>
                        <th>Transaction Date</th>
                        <th>Notes</th>
                        <th>Status</th>
                        <th>User</th>
                        
                    </tr>
                    <tr>
                        <td>{{ box.name }}</td>
                        <td>{{ box.description }}</td>
                        <td>{{ box.qty }}</td>
                        <td>{{ box.location }}</td>
                        <td>{{ box.updated_at }}</td>
                        <td>{{ box.note }}</td>
                        <td>{{ box.status }}</td>
                        <td>{{ box.user.first_name }}</td>
                    </tr>
                </table>
            </div>      
        </div>
        <div class="card text-center mt-5">
            <div class="card-header bg-success">
                <h5>Box Inventory</h5>
            </div>
            <div class="card-body bg-warning">
                <h5 class="card-title">Solo Project</h5>
                <p class="card-text">Class 2021</p>
                <a href="https://www.codingdojo.com/" class="btn btn-primary">Coding Dojo</a>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    </body>
</html>